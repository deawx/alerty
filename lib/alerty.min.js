!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Alerty=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();return function(){function o(){t(this,o),this.defaults={okLabel:"确定",cancelLabel:"取消",time:2e3,maskClosable:!0,escClosable:!0,btnFocus:!0,inputPlaceholder:"",inputValue:"",inputType:"text"}}return n(o,[{key:"alert",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaults;return n=Object.assign({},this.defaults,n),new Promise(function(o){return t.open("alert",e,n).then(o)})}},{key:"confirm",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaults;return n=Object.assign({},this.defaults,n),new Promise(function(o,i){return t.open("confirm",e,n).then(o,i)})}},{key:"prompt",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaults;return"object"===(void 0===t?"undefined":e(t))&&(o=t,t=""),o=Object.assign({},this.defaults,o),new Promise(function(e,i){return n.open("prompt",t,o).then(e,i)})}},{key:"open",value:function(e,t,n){var o=this,i=n.maskClosable,r=n.escClosable,l=n.btnFocus,s=document.createElement("div");s.innerHTML=this.renderDOM(e,t,n),document.body.classList.add("no-scrolling"),s.classList.add("alerty-container","active"),document.body.appendChild(s);var a=document.querySelector(".alerty"),c=a.querySelector(".btn-ok"),u=a.querySelector(".btn-cancel"),d=a.querySelector(".alerty-prompt");d&&d.querySelector("input");return a.classList.add("alerty-show"),l&&c.focus(),new Promise(function(t,n){c.addEventListener("click",function(){o.close(a,s).then(t)}),u&&u.addEventListener("click",function(){o.close(a,s).then(n)}),i&&s.addEventListener("click",function(i){i.target===s&&o.close(a,s).then("alert"===e?t:n)}),r&&(o.bindKeydown=function(i){27===i.keyCode&&o.close(a,s).then("alert"===e?t:n)},document.body.addEventListener("keydown",o.bindKeydown))})}},{key:"close",value:function(e,t){var n=this;return e.classList.remove("alerty-show"),e.classList.add("alerty-hide"),t.classList.remove("active"),document.body.classList.remove("no-scrolling"),new Promise(function(e){setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t),n.bindKeydown&&document.body.removeEventListener("keydown",n.bindKeydown),setTimeout(function(){e&&e()},100)},100)})}},{key:"renderDOM",value:function(e,t,n){var o=n.title,i=n.okLabel,r=n.cancelLabel,l=n.inputValue,s=n.inputPlaceholder,a=n.inputType,c="alert"===e?'\n      <button type="" class="btn-ok">'+i+"</button>\n    ":'\n      <button type="" class="btn-ok">'+i+'</button>\n      <button type="" class="btn-cancel">'+r+"</button>\n    ";return('\n      <div class="alerty">\n        '+(o?'<div class="alerty-title">'+o+"</div>":"")+'\n        <div class="alerty-content">\n          <p class="alerty-message">'+t+"</p>\n          "+("prompt"===e?'\n      <div class="alerty-prompt">\n        <input type='+a+' placeholder="'+s+'" value="'+l+'" autofocus>\n        <div class="input-line"></div>\n      </div>\n    ':"")+'\n        </div>\n        <div class="alerty-action">\n          '+c+"\n        </div>\n      </div>\n    ").replace(/(^|\n)\s*/g,"")}}]),o}()}),window.alerty=new Alerty;
