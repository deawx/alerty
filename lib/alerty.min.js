!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Alerty=n()}(this,function(){"use strict";var e=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();return function(){function t(){e(this,t),this.defaults={okLabel:"确定",cancelLabel:"取消",time:2e3}}return n(t,[{key:"alert",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaults;return t=Object.assign({},this.defaults,t),new Promise(function(a,r){n.open("alert",e,t).then(function(){return a()})})}},{key:"open",value:function(e,n,t){var a=this;if("undefined"==typeof document)return void console.error("Alerty need doccument environment!");var r=document.createElement("div");r.classList.add("alerty-container"),r.innerHTML=this.renderDOM(e,n,t),document.body.appendChild(r),document.body.classList.add("no-scrolling");var i=document.querySelector(".alerty"),o=(i.querySelector(".alerty-title"),i.querySelector(".alerty-message"),i.querySelector(".alerty-action"),i.querySelector(".btn-ok"));return r.classList.add("active"),i.classList.add("alerty-show"),new Promise(function(e,n){o.addEventListener("click",function(){a.close(i,r),e()},!1),r.addEventListener("click",function(){a.close(i,r),e()},!1)})}},{key:"close",value:function(e,n){e.classList.remove("alerty-show"),e.classList.add("alerty-hide"),n.classList.remove("active"),document.body.classList.remove("no-scrolling"),setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},100)}},{key:"renderDOM",value:function(e,n,t){var a=t.title,r=t.okLabel,i=t.cancelLabel,o="alert"===e?'\n      <a class="btn-ok">'+r+"</a>\n    ":'\n      <a class="btn-ok">'+r+'</a>\n      <a class="btn-cancel">'+i+"</a>\n    ";return('\n      <div class="alerty">\n        '+(a?'<div class="alerty-title">'+a+"</div>":"")+'\n        <div class="alerty-content">\n          <p class="alerty-message">'+n+"</p>\n          "+("prompt"===e?'\n      <div class="alerty-prompt">\n        <input type="text" placeholder="" value="">\n        <div class="input-line"></div>\n      </div>\n    ':"")+'\n        </div>\n        <div class="alerty-action">\n          '+o+"\n        </div>\n      </div>\n    ").replace(/(^|\n)\s*/g,"")}}]),t}()}),window.alerty=new Alerty;
